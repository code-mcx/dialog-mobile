/**
 * Mcx Dialog Mobile v0.1.1
 * Copyright (C) 2018 mcx
 * https://github.com/code-mcx/mcx-dialog-mobile
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./css/dialog-mobile.css")):"function"==typeof define&&define.amd?define(["./css/dialog-mobile.css"],e):(t=t||self).mcxDialog=e()}(this,function(){"use strict";function d(t,e){var n=t.className.split(" ");""===t.className&&(n=[]),n.push(e),t.className=n.join(" ")}function a(t,e){for(var n in e)t[n]=e[n];return t}function m(){var t=document.documentElement.clientWidth;return t<640?t/375*16+"px":16}var c={initOpen:function(t,n){t.style.fontSize=m();var e=document.querySelector("body"),o=document.createElement("div");d(o,"dialog-mobile-bg"),1==n.showBottom&&d(o,"animation-bg-fadeIn"),n.bottom&&o.addEventListener("click",function(){l()}),e.appendChild(o),e.appendChild(t);var i=function(t){for(var e=["animation","webkitAnimation"],n={animation:"animationend",webkitAnimation:"webkitAnimationEnd"},o=0;o<e.length;o++)if(null!=t.style[e[o]])return n[e[o]]}(t);function l(){i?(c.close([o]),d(t,n.closeAnimation),t.addEventListener(i,function(){c.close([t])})):c.close([o,t])}n.btns.forEach(function(t,e){0!=e&&e<=n.btns.length-1?n.bottom?t.addEventListener("click",function(){l(),n.btnClick(this.getAttribute("i"))}):t.addEventListener("click",function(){l(),n.sureBtnClick()}):t.addEventListener("click",l)}),n.bottom||(t.style.top=(document.documentElement.clientHeight-t.offsetHeight)/2+"px",t.style.left=(document.documentElement.clientWidth-t.offsetWidth)/2+"px")},close:function(t){for(var e=document.querySelector("body"),n=0;n<t.length;n++)e.removeChild(t[n])}},n={alert:function(t){var e=document.createElement("div");e.innerText="确定",d(e,"dialog-button");var n={};n.btns=[e],this.open(t,n)},confirm:function(t,e){var n={sureBtnText:"确定",sureBtnClick:function(){}};n=a(n,e);var o=document.createElement("div");o.innerText="取消",d(o,"dialog-cancel-button");var i=document.createElement("div");i.innerText=n.sureBtnText,d(i,"dialog-sure-button"),n.btns=[o,i],this.open(t,n)},open:function(t,e){var n=document.createElement("div"),o=document.createElement("div");d(n,"dialog-mobile"),d(n,"animation-zoom-in"),d(o,"dialog-content"),o.innerText=t,n.appendChild(o),e.btns.forEach(function(t,e){n.appendChild(t)}),e.closeAnimation="animation-zoom-out",c.initOpen(n,e)},showBottom:function(t){var o={btn:["删除"],btnColor:[],btnClick:function(t){}};(o=a(o,t)).bottom=!0,1==o.btn.length&&"删除"==o.btn[0]&&(o.btnColor=["#EE2C2C"]);var e=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div");n.innerText="取消",d(e,"dialog-mobile-bottom"),d(e,"animation-bottom-in"),d(i,"bottom-btn-item"),d(n,"dialog-cancel-btn"),e.appendChild(i),e.appendChild(n),o.btns=[],o.btns.push(n),o.btn.forEach(function(t,e){var n=document.createElement("div");n.innerText=o.btn[e],n.setAttribute("i",e+1),d(n,"dialog-item-btn"),o.btnColor[e]&&(n.style.color=o.btnColor[e]),i.appendChild(n),o.btns.push(n)}),o.closeAnimation="animation-bottom-out",o.showBottom=!0,c.initOpen(e,o)},toast:function(t,e){e=e||3;var n=document.createElement("div"),o=document.createElement("div");d(n,"dialog-mobile-toast"),d(n,"animation-fade-in"),d(o,"toast-content"),o.innerText=t,n.appendChild(o);var i=document.querySelector("body");i.appendChild(n),n.style.fontSize=m(),n.style.left=(document.documentElement.clientWidth-n.offsetWidth)/2+"px",setTimeout(function(){i.removeChild(n)},1e3*e)},loadElement:[],loading:function(t){var e={src:"img",hint:""};e=a(e,t);var n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("img");if(d(n,"mobile-loading-bg"),d(o,"mobile-loading"),d(o,"animation-zoom-in"),i.src=e.src+"/loading.gif",o.appendChild(i),e.hint){var l=document.createElement("div");d(l,"loading-content"),l.innerText=e.hint,o.appendChild(l)}var c=document.querySelector("body");c.appendChild(n),c.appendChild(o),o.style.fontSize=m(),o.style.left=(document.documentElement.clientWidth-o.offsetWidth)/2+"px",o.style.top=(document.documentElement.clientHeight-o.offsetHeight)/2+"px",this.loadElement.push(n),this.loadElement.push(o)},closeLoading:function(){c.close(this.loadElement),this.loadElement=[]},install:function(t,e){t.prototype.$mcxDialog=n}};return n});
